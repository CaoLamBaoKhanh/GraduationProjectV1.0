@using TechShopSolution.ViewModels.Catalog.Product;
@model HomeViewModel
@section Slider {
    <div id="carouselBlk">
        <div id="myCarousel" class="carousel slide">
            <div class="carousel-inner">
                <div class="item active">
                    <div class="container">
                        <a href="register.html"><img style="width:100%" src="/themes/images/carousel/1.png" alt="special offers" /></a>
                        <div class="carousel-caption">
                            <h4>Second Thumbnail label</h4>
                            <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="container">
                        <a href="register.html"><img style="width:100%" src="/themes/images/carousel/2.png" alt="" /></a>
                        <div class="carousel-caption">
                            <h4>Second Thumbnail label</h4>
                            <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="container">
                        <a href="register.html"><img src="/themes/images/carousel/3.png" alt="" /></a>
                        <div class="carousel-caption">
                            <h4>Second Thumbnail label</h4>
                            <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                        </div>

                    </div>
                </div>
                <div class="item">
                    <div class="container">
                        <a href="register.html"><img src="/themes/images/carousel/4.png" alt="" /></a>
                        <div class="carousel-caption">
                            <h4>Second Thumbnail label</h4>
                            <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                        </div>

                    </div>
                </div>
                <div class="item">
                    <div class="container">
                        <a href="register.html"><img src="/themes/images/carousel/5.png" alt="" /></a>
                        <div class="carousel-caption">
                            <h4>Second Thumbnail label</h4>
                            <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="container">
                        <a href="register.html"><img src="/themes/images/carousel/6.png" alt="" /></a>
                        <div class="carousel-caption">
                            <h4>Second Thumbnail label</h4>
                            <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                        </div>
                    </div>
                </div>
            </div>
            <a class="left carousel-control" href="#myCarousel" data-slide="prev">&lsaquo;</a>
            <a class="right carousel-control" href="#myCarousel" data-slide="next">&rsaquo;</a>
        </div>
    </div>
}

<div class="span9">
    <div class="well well-small">
        <h4>Sản phẩm nổi bật <small class="pull-right">@Model.FeaturedProducts.Count Sản phẩm</small></h4>
        <div class="row-fluid">
            <div id="featured" class="carousel slide">
                <div class="carousel-inner">
                    @{
                        List<List<ProductViewModel>> featuredProducts = new List<List<ProductViewModel>>();
                        List<ProductViewModel> featuredPart = new List<ProductViewModel>();
                    }

                    @for (int index = 0; index < Model.FeaturedProducts.Count; index++)
                    {
                        featuredPart.Add(Model.FeaturedProducts[index]);
                        if (featuredPart.Count == 4 || Model.FeaturedProducts.Count < 4)
                        {
                            featuredProducts.Add(featuredPart);
                            featuredPart = new List<ProductViewModel>();
                        }

                    }
                    @for (int index = 0; index < featuredProducts.Count; index++)
                    {
                        <div class="item @(index == 0?"active":"")">
                            <ul class="thumbnails">
                                @foreach (var item in featuredProducts[index])
                                {
                                    var url = "#";
                                    <li class="span3">
                                        <div class="thumbnail">
                                            <i class="tag"></i>
                                            <a href="@url"><img src="data:image/jpeg;base64,@item.image" alt="@item.name"></a>
                                            <div class="caption">
                                                <h5>@item.name</h5>
                                            </div>
                                            <div class="footer-thumbnail">
                                                @{
                                                    var info = System.Globalization.CultureInfo.GetCultureInfo("vi-VN");

                                                }
                                                <span class="product-price">@String.Format(info, "{0:c}", item.unit_price)</span>
                                                @if (item.promotion_price > 1)
                                                {
                                                    <span class="product-promotion-pirce">@String.Format(info, "{0:c}", item.promotion_price)</span>

                                                }

                                            </div>
                                            <div class="product-btn">
                                                <a class="btn-View btn btn-danger" href="" localize-content>
                                                    <i class="fas fa-shopping-cart"></i>
                                                    Mua ngay
                                                </a>
                                            </div>

                                        </div>
                                    </li>
                                }
                            </ul>
                        </div>
                    }
                </div>

                <a class="left carousel-control" href="#featured" data-slide="prev">‹</a>
                <a class="right carousel-control" href="#featured" data-slide="next">›</a>
            </div>

        </div>
    </div>
    <div class="well well-small mb-5">
        <h4>Sản phẩm bán chạy <small class="pull-right">@Model.FeaturedProducts.Count Sản phẩm</small></h4>
        <div class="row-fluid">
            <div id="bestseller" class="carousel slide">
                <div class="carousel-inner">
                    @{
                        List<List<ProductViewModel>> featuredProductss = new List<List<ProductViewModel>>();
                        List<ProductViewModel> featuredParts = new List<ProductViewModel>();
                    }

                    @for (int index = 0; index < Model.FeaturedProducts.Count; index++)
                    {
                        featuredParts.Add(Model.FeaturedProducts[index]);
                        if (featuredParts.Count == 4 || Model.FeaturedProducts.Count < 4)
                        {
                            featuredProductss.Add(featuredParts);
                            featuredParts = new List<ProductViewModel>();
                        }

                    }
                    @for (int index = 0; index < featuredProductss.Count; index++)
                    {
                        <div class="item @(index == 0?"active":"")">
                            <ul class="thumbnails">
                                @foreach (var item in featuredProductss[index])
                                {
                                    var url = "#";
                                    <li class="span3">
                                        <div class="thumbnail">
                                            <i class="tag"></i>
                                            <a href="@url"><img src="data:image/jpeg;base64,@item.image" alt="@item.name"></a>
                                            <div class="caption">
                                                <h5>@item.name</h5>
                                            </div>
                                            <div class="footer-thumbnail">
                                                @{
                                                    var info = System.Globalization.CultureInfo.GetCultureInfo("vi-VN");

                                                }
                                                <span class="product-price">@String.Format(info, "{0:c}", item.unit_price)</span>
                                                @if (item.promotion_price > 1)
                                                {
                                                    <span class="product-promotion-pirce">@String.Format(info, "{0:c}", item.promotion_price)</span>

                                                }

                                            </div>
                                            <div class="product-btn">
                                                <a class="btn-View btn btn-danger" href="" localize-content>
                                                    <i class="fas fa-shopping-cart"></i>
                                                    Mua ngay
                                                </a>
                                            </div>

                                        </div>
                                    </li>
                                }
                            </ul>
                        </div>
                    }
                </div>

                <a class="left carousel-control" href="#bestseller" data-slide="prev">‹</a>
                <a class="right carousel-control" href="#bestseller" data-slide="next">›</a>
            </div>

        </div>
    </div>
    <h4>Latest Products </h4>
    <ul class="thumbnails">
        <li class="span3">
            <div class="thumbnail">
                <a href="product_details.html"><img src="/themes/images/products/6.jpg" alt="" /></a>
                <div class="caption">
                    <h5>Product name</h5>
                    <p>
                        Lorem Ipsum is simply dummy text.
                    </p>

                    <h4 style="text-align:center"><a class="btn" href="product_details.html"> <i class="icon-zoom-in"></i></a> <a class="btn" href="#">Add to <i class="icon-shopping-cart"></i></a> <a class="btn btn-primary" href="#">$222.00</a></h4>
                </div>
            </div>
        </li>
        <li class="span3">
            <div class="thumbnail">
                <a href="product_details.html"><img src="/themes/images/products/7.jpg" alt="" /></a>
                <div class="caption">
                    <h5>Product name</h5>
                    <p>
                        Lorem Ipsum is simply dummy text.
                    </p>
                    <h4 style="text-align:center"><a class="btn" href="product_details.html"> <i class="icon-zoom-in"></i></a> <a class="btn" href="#">Add to <i class="icon-shopping-cart"></i></a> <a class="btn btn-primary" href="#">$222.00</a></h4>
                </div>
            </div>
        </li>
        <li class="span3">
            <div class="thumbnail">
                <a href="product_details.html"><img src="/themes/images/products/8.jpg" alt="" /></a>
                <div class="caption">
                    <h5>Product name</h5>
                    <p>
                        Lorem Ipsum is simply dummy text.
                    </p>
                    <h4 style="text-align:center"><a class="btn" href="product_details.html"> <i class="icon-zoom-in"></i></a> <a class="btn" href="#">Add to <i class="icon-shopping-cart"></i></a> <a class="btn btn-primary" href="#">$222.00</a></h4>
                </div>
            </div>
        </li>
        <li class="span3">
            <div class="thumbnail">
                <a href="product_details.html"><img src="/themes/images/products/9.jpg" alt="" /></a>
                <div class="caption">
                    <h5>Product name</h5>
                    <p>
                        Lorem Ipsum is simply dummy text.
                    </p>
                    <h4 style="text-align:center"><a class="btn" href="product_details.html"> <i class="icon-zoom-in"></i></a> <a class="btn" href="#">Add to <i class="icon-shopping-cart"></i></a> <a class="btn btn-primary" href="#">$222.00</a></h4>
                </div>
            </div>
        </li>
        <li class="span3">
            <div class="thumbnail">
                <a href="product_details.html"><img src="/themes/images/products/10.jpg" alt="" /></a>
                <div class="caption">
                    <h5>Product name</h5>
                    <p>
                        Lorem Ipsum is simply dummy text.
                    </p>
                    <h4 style="text-align:center"><a class="btn" href="product_details.html"> <i class="icon-zoom-in"></i></a> <a class="btn" href="#">Add to <i class="icon-shopping-cart"></i></a> <a class="btn btn-primary" href="#">$222.00</a></h4>
                </div>
            </div>
        </li>
        <li class="span3">
            <div class="thumbnail">
                <a href="product_details.html"><img src="/themes/images/products/11.jpg" alt="" /></a>
                <div class="caption">
                    <h5>Product name</h5>
                    <p>
                        Lorem Ipsum is simply dummy text.
                    </p>
                    <h4 style="text-align:center"><a class="btn" href="product_details.html"> <i class="icon-zoom-in"></i></a> <a class="btn" href="#">Add to <i class="icon-shopping-cart"></i></a> <a class="btn btn-primary" href="#">$222.00</a></h4>
                </div>
            </div>
        </li>
    </ul>

</div>